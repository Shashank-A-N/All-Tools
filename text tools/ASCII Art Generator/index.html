<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow ASCII - Art Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/figlet/1.5.0/figlet.min.js"></script>
    <link rel="stylesheet" href="../../styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        mono: ['Courier New', 'monospace'],
                        sans: ['Rajdhani', 'sans-serif'],
                        orbitron: ['Orbitron', 'sans-serif']
                    },
                    colors: {
                        cyber: {
                            accent: '#8b5cf6', // Violet-500
                            hover: '#7c3aed', // Violet-600
                        }
                    }
                }
            }
        }
    </script>
</head>

<body
    class="min-h-screen flex flex-col font-sans overflow-x-hidden bg-slate-900 text-white selection:bg-purple-500 selection:text-white">

    <!-- 3D Background -->
    <div id="bg-3d-container"></div>

    <!-- Navigation -->
    <nav
        class="sticky top-0 z-50 glass-effect border-b border-white/5 px-4 md:px-6 py-3 flex items-center justify-between backdrop-blur-md">
        <a href="../index.html" class="flex items-center gap-3 text-slate-300 hover:text-white transition-colors group">
            <div
                class="w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center border border-white/10 group-hover:border-purple-500/50 transition-all">
                <i class="fas fa-chevron-left text-xs group-hover:-translate-x-0.5 transition-transform"></i>
            </div>
            <span class="font-orbitron font-bold tracking-wider hidden md:block">BACK</span>
        </a>

        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded bg-purple-500/20 flex items-center justify-center text-purple-400">
                <i class="fas fa-font"></i>
            </div>
            <h1 class="text-lg md:text-xl font-orbitron font-bold tracking-widest text-white">SHADOW<span
                    class="text-purple-500">ASCII</span></h1>
        </div>

        <div class="w-8"></div> <!-- Spacer for centering -->
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 relative z-10 flex flex-col h-[calc(100vh-80px)]">

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 h-full">

            <!-- Controls Panel -->
            <div class="lg:col-span-1 flex flex-col gap-4">
                <!-- Input Card -->
                <div class="glass p-5 rounded-2xl border border-white/5 flex flex-col gap-4 shadow-xl">
                    <div>
                        <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 block">Input
                            Text</label>
                        <input type="text" id="input" value="SHADOW"
                            class="w-full bg-slate-950/50 border border-white/10 rounded-xl px-4 py-3 text-sm md:text-base text-white focus:outline-none focus:border-purple-500/50 transition-all placeholder-slate-600 font-mono"
                            placeholder="Type here...">
                    </div>

                    <div>
                        <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 block">Font
                            Style</label>
                        <div class="relative">
                            <select id="font"
                                class="w-full bg-slate-950/50 border border-white/10 rounded-xl px-4 py-3 text-sm text-slate-300 focus:outline-none focus:border-purple-500/50 appearance-none cursor-pointer hover:bg-slate-900/50 transition-colors">
                                <option value="Standard" selected>Standard</option>
                                <option value="Ghost">Ghost</option>
                                <option value="Big">Big</option>
                                <option value="Banner">Banner</option>
                                <option value="Block">Block</option>
                                <option value="Bubble">Bubble</option>
                                <option value="Lean">Lean</option>
                                <option value="Script">Script</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Slant">Slant</option>
                                <option value="Small">Small</option>
                            </select>
                            <i
                                class="fas fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-xs text-slate-500 pointer-events-none"></i>
                        </div>
                    </div>
                </div>

                <!-- Info Card (Desktop) / Hidden Mobile -->
                <div
                    class="glass p-5 rounded-2xl border border-white/5 flex-col gap-3 shadow-xl hidden lg:flex flex-grow">
                    <h3 class="font-orbitron text-sm text-purple-400">INFO</h3>
                    <p class="text-xs text-slate-400 leading-relaxed">
                        Generate ASCII art for headers, code comments, or social media.
                        Use the copy button to instantly grab the result.
                    </p>
                </div>
            </div>

            <!-- Output Panel -->
            <div class="lg:col-span-3 h-full min-h-[400px]">
                <div
                    class="glass h-full rounded-2xl border border-white/5 shadow-2xl flex flex-col relative overflow-hidden group">
                    <!-- Toolbar -->
                    <div class="absolute top-4 right-4 flex gap-2 z-20">
                        <button onclick="copyOutput()"
                            class="w-10 h-10 md:w-auto md:px-4 md:py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-xl shadow-lg shadow-purple-500/20 transition-all flex items-center justify-center gap-2 group/btn">
                            <i class="fas fa-copy"></i>
                            <span class="hidden md:inline font-bold text-xs uppercase tracking-wider">Copy</span>
                        </button>
                    </div>

                    <div class="absolute top-4 left-4 z-20">
                        <label
                            class="text-[10px] font-bold text-slate-500 uppercase tracking-widest bg-slate-900/80 px-2 py-1 rounded border border-white/5">PREVIEW</label>
                    </div>

                    <!-- Editor Area -->
                    <div
                        class="flex-grow p-4 md:p-8 overflow-auto custom-scrollbar flex items-center justify-center bg-slate-950/30">
                        <pre id="output"
                            class="font-mono text-[10px] xs:text-xs sm:text-sm md:text-base lg:text-lg text-purple-300 leading-none whitespace-pre text-center select-all transition-all duration-300"></pre>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Shared Script -->
    <script type="module" src="../../shared/bg-particles.js"></script>

    <script>
        figlet.defaults.fontPath = 'https://cdnjs.cloudflare.com/ajax/libs/figlet/1.5.0/fonts/';

        const inputEl = document.getElementById('input');
        const fontEl = document.getElementById('font');
        const outputEl = document.getElementById('output');

        function generate() {
            const text = inputEl.value || ' ';
            const font = fontEl.value;

            // Show loading state or opacity change if needed
            outputEl.style.opacity = '0.5';

            figlet(text, {
                font: font,
                horizontalLayout: 'default',
                verticalLayout: 'default',
                width: 120, // Wider for modern screens
                whitespaceBreak: true
            }, function (err, data) {
                outputEl.style.opacity = '1';
                if (err) {
                    console.error(err);
                    outputEl.innerText = "Error loading font.";
                    return;
                }
                outputEl.innerText = data;
            });
        }

        function copyOutput() {
            const range = document.createRange();
            range.selectNode(outputEl);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();

            // Visual feedback
            const btn = document.querySelector('button');
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i><span class="hidden md:inline font-bold text-xs uppercase tracking-wider ml-2">Copied</span>';
            btn.classList.add('bg-green-600', 'hover:bg-green-500');
            btn.classList.remove('bg-purple-600', 'hover:bg-purple-500');

            setTimeout(() => {
                btn.innerHTML = originalHTML;
                btn.classList.remove('bg-green-600', 'hover:bg-green-500');
                btn.classList.add('bg-purple-600', 'hover:bg-purple-500');
            }, 2000);
        }

        // Live typing update
        inputEl.addEventListener('input', generate);
        fontEl.addEventListener('change', generate);

        // Initial generation
        window.addEventListener('load', generate);

    </script>
</body>

</html>